<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pixel Battle WebApp</title>
<style>
  body {
    background: #888; /* серый фон */
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    font-family: Arial, sans-serif;
    user-select: none;
  }
  #canvas {
    display: grid;
    grid-template-columns: repeat(50, 15px);
    grid-template-rows: repeat(50, 15px);
    gap: 1px;
    background: #333;
    margin-bottom: 15px;
  }
  .pixel {
    width: 15px;
    height: 15px;
    background: white;
    border: 1px solid #ccc;
    cursor: pointer;
  }
  #colors {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
  }
  .color-btn {
    width: 25px;
    height: 25px;
    border: 2px solid transparent;
    cursor: pointer;
    border-radius: 4px;
  }
  .color-btn.selected {
    border-color: black;
  }
  #cooldown {
    font-size: 14px;
    color: #222;
    height: 18px;
  }
</style>
</head>
<body>

<div id="colors"></div>
<div id="canvas"></div>
<div id="cooldown"></div>

<script>
const canvas = document.getElementById('canvas');
const colorsContainer = document.getElementById('colors');
const cooldownText = document.getElementById('cooldown');
const SIZE = 50;
const COOLDOWN = 5; // секунд

// Набор цветов, как в Pixel Battle
const COLORS = [
  '#FFFFFF', // белый (стандарт)
  '#FF0000', // красный
  '#00FF00', // зелёный
  '#0000FF', // синий
  '#FFFF00', // жёлтый
  '#FFA500', // оранжевый
  '#800080', // фиолетовый
  '#000000'  // чёрный
];

let selectedColor = COLORS[1]; // по умолчанию красный
let lastClickTime = 0;

// Создаем кнопки выбора цвета
for(let color of COLORS) {
  const btn = document.createElement('div');
  btn.className = 'color-btn';
  btn.style.backgroundColor = color;
  if(color === selectedColor) btn.classList.add('selected');
  btn.addEventListener('click', () => {
    selectedColor = color;
    document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
  });
  colorsContainer.appendChild(btn);
}

// Создаем сетку пикселей
for(let i = 0; i < SIZE * SIZE; i++) {
  const pixel = document.createElement('div');
  pixel.className = 'pixel';
  pixel.dataset.index = i;
  pixel.style.backgroundColor = COLORS[0]; // белый

  pixel.addEventListener('click', () => {
    const now = Date.now();
    if (now - lastClickTime < COOLDOWN * 1000) {
      const secondsLeft = ((COOLDOWN * 1000 - (now - lastClickTime)) / 1000).toFixed(1);
      cooldownText.textContent = `Подожди еще ${secondsLeft} секунд перед следующим пикселем ⏳`;
      return;
    }
    cooldownText.textContent = '';
    pixel.style.backgroundColor = selectedColor;
    lastClickTime = now;
  });

  canvas.appendChild(pixel);
}
</script>

</body>
</html>
